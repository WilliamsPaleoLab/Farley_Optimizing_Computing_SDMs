import MySQLdb
print "Imported connector."

keys = open('/home/keys.txt', 'r')
pw = keys.readlines()[0].replace("\n", "")

dbParams = open('/host.txt', 'r')
host = dbParams.readlines()[0].replace("\n", "")

cnx = MySQLdb.connect(unix_socket=host, user='root', db='timeSDM', passwd=pw)
print "Connected."
cursor = cnx.cursor()

n = 10

## main experiment
configs = [(1, 1.0), (1, 2.0), (1, 3.0), (1, 4.0), (1, 6.0), (2, 2.0), (2, 3.0), (2, 4.0), (2, 6.0), (2, 9.0), (2, 12.0), (4, 4.0), (4, 6.0), (4, 9.0), (4, 12.0), (4, 15.0), (4, 18.0), (4, 21.0), (4, 24.0), (6, 6.0), (6, 9.0), (6, 12.0), (6, 15.0), (6, 18.0), (6, 21.0), (6, 24.0), (6, 27.0), (6, 30.0), (6, 33.0), (6, 36.0), (6, 39.0), (8, 9.0), (8, 12.0), (8, 15.0), (8, 18.0), (8, 21.0), (8, 24.0), (8, 27.0), (8, 30.0), (8, 33.0), (8, 36.0), (8, 39.0), (8, 42.0), (8, 45.0), (8, 48.0), (8, 51.0), (10, 9.0), (10, 12.0), (10, 15.0), (10, 18.0), (10, 21.0), (10, 24.0), (10, 27.0), (10, 30.0), (10, 33.0), (10, 36.0), (10, 39.0), (10, 42.0), (10, 45.0), (10, 48.0), (10, 51.0), (10, 54.0), (10, 57.0), (10, 60.0), (10, 63.0), (12, 12.0), (12, 15.0), (12, 18.0), (12, 21.0), (12, 24.0), (12, 27.0), (12, 30.0), (12, 33.0), (12, 36.0), (12, 39.0), (12, 42.0), (12, 45.0), (12, 48.0), (12, 51.0), (12, 54.0), (12, 57.0), (12, 60.0), (12, 63.0), (12, 66.0), (12, 69.0), (12, 72.0), (12, 75.0), (12, 78.0), (14, 15.0), (14, 18.0), (14, 21.0), (14, 24.0), (14, 27.0), (14, 30.0), (14, 33.0), (14, 36.0), (14, 39.0), (14, 42.0), (14, 45.0), (14, 48.0), (14, 51.0), (14, 54.0), (14, 57.0), (14, 60.0), (14, 63.0), (14, 66.0), (14, 69.0), (14, 72.0), (14, 75.0), (14, 78.0), (14, 81.0), (14, 84.0), (14, 87.0), (14, 90.0), (16, 15.0), (16, 18.0), (16, 21.0), (16, 24.0), (16, 27.0), (16, 30.0), (16, 33.0), (16, 36.0), (16, 39.0), (16, 42.0), (16, 45.0), (16, 48.0), (16, 51.0), (16, 54.0), (16, 57.0), (16, 60.0), (16, 63.0), (16, 66.0), (16, 69.0), (16, 72.0), (16, 75.0), (16, 78.0), (16, 81.0), (16, 84.0), (16, 87.0), (16, 90.0), (16, 93.0), (16, 96.0), (16, 99.0), (16, 102.0), (18, 18.0), (18, 21.0), (18, 24.0), (18, 27.0), (18, 30.0), (18, 33.0), (18, 36.0), (18, 39.0), (18, 42.0), (18, 45.0), (18, 48.0), (18, 51.0), (18, 54.0), (18, 57.0), (18, 60.0), (18, 63.0), (18, 66.0), (18, 69.0), (18, 72.0), (18, 75.0), (18, 78.0), (18, 81.0), (18, 84.0), (18, 87.0), (18, 90.0), (18, 93.0), (18, 96.0), (18, 99.0), (18, 102.0), (18, 105.0), (18, 108.0), (18, 111.0), (18, 114.0), (18, 117.0), (20, 18.0), (20, 21.0), (20, 24.0), (20, 27.0), (20, 30.0), (20, 33.0), (20, 36.0), (20, 39.0), (20, 42.0), (20, 45.0), (20, 48.0), (20, 51.0), (20, 54.0), (20, 57.0), (20, 60.0), (20, 63.0), (20, 66.0), (20, 69.0), (20, 72.0), (20, 75.0), (20, 78.0), (20, 81.0), (20, 84.0), (20, 87.0), (20, 90.0), (20, 93.0), (20, 96.0), (20, 99.0), (20, 102.0), (20, 105.0), (20, 108.0), (20, 111.0), (20, 114.0), (20, 117.0), (20, 120.0), (20, 123.0), (20, 126.0), (20, 129.0), (22, 21.0), (22, 24.0), (22, 27.0), (22, 30.0), (22, 33.0), (22, 36.0), (22, 39.0), (22, 42.0), (22, 45.0), (22, 48.0), (22, 51.0), (22, 54.0), (22, 57.0), (22, 60.0), (22, 63.0), (22, 66.0), (22, 69.0), (22, 72.0), (22, 75.0), (22, 78.0), (22, 81.0), (22, 84.0), (22, 87.0), (22, 90.0), (22, 93.0), (22, 96.0), (22, 99.0), (22, 102.0), (22, 105.0), (22, 108.0), (22, 111.0), (22, 114.0), (22, 117.0), (22, 120.0), (22, 123.0), (22, 126.0), (22, 129.0), (22, 132.0), (22, 135.0), (22, 138.0), (22, 141.0), (24, 24.0), (24, 27.0), (24, 30.0), (24, 33.0), (24, 36.0), (24, 39.0), (24, 42.0), (24, 45.0), (24, 48.0), (24, 51.0), (24, 54.0), (24, 57.0), (24, 60.0), (24, 63.0), (24, 66.0), (24, 69.0), (24, 72.0), (24, 75.0), (24, 78.0), (24, 81.0), (24, 84.0), (24, 87.0), (24, 90.0), (24, 93.0), (24, 96.0), (24, 99.0), (24, 102.0), (24, 105.0), (24, 108.0), (24, 111.0), (24, 114.0), (24, 117.0), (24, 120.0), (24, 123.0), (24, 126.0), (24, 129.0), (24, 132.0), (24, 135.0), (24, 138.0), (24, 141.0), (24, 144.0), (24, 147.0), (24, 150.0), (24, 153.0), (24, 156.0), (26, 24.0), (26, 27.0), (26, 30.0), (26, 33.0), (26, 36.0), (26, 39.0), (26, 42.0), (26, 45.0), (26, 48.0), (26, 51.0), (26, 54.0), (26, 57.0), (26, 60.0), (26, 63.0), (26, 66.0), (26, 69.0), (26, 72.0), (26, 75.0), (26, 78.0), (26, 81.0), (26, 84.0), (26, 87.0), (26, 90.0), (26, 93.0), (26, 96.0), (26, 99.0), (26, 102.0), (26, 105.0), (26, 108.0), (26, 111.0), (26, 114.0), (26, 117.0), (26, 120.0), (26, 123.0), (26, 126.0), (26, 129.0), (26, 132.0), (26, 135.0), (26, 138.0), (26, 141.0), (26, 144.0), (26, 147.0), (26, 150.0), (26, 153.0), (26, 156.0), (26, 159.0), (26, 162.0), (26, 165.0), (26, 168.0), (28, 27.0), (28, 30.0), (28, 33.0), (28, 36.0), (28, 39.0), (28, 42.0), (28, 45.0), (28, 48.0), (28, 51.0), (28, 54.0), (28, 57.0), (28, 60.0), (28, 63.0), (28, 66.0), (28, 69.0), (28, 72.0), (28, 75.0), (28, 78.0), (28, 81.0), (28, 84.0), (28, 87.0), (28, 90.0), (28, 93.0), (28, 96.0), (28, 99.0), (28, 102.0), (28, 105.0), (28, 108.0), (28, 111.0), (28, 114.0), (28, 117.0), (28, 120.0), (28, 123.0), (28, 126.0), (28, 129.0), (28, 132.0), (28, 135.0), (28, 138.0), (28, 141.0), (28, 144.0), (28, 147.0), (28, 150.0), (28, 153.0), (28, 156.0), (28, 159.0), (28, 162.0), (28, 165.0), (28, 168.0), (28, 171.0), (28, 174.0), (28, 177.0), (28, 180.0), (30, 27.0), (30, 30.0), (30, 33.0), (30, 36.0), (30, 39.0), (30, 42.0), (30, 45.0), (30, 48.0), (30, 51.0), (30, 54.0), (30, 57.0), (30, 60.0), (30, 63.0), (30, 66.0), (30, 69.0), (30, 72.0), (30, 75.0), (30, 78.0), (30, 81.0), (30, 84.0), (30, 87.0), (30, 90.0), (30, 93.0), (30, 96.0), (30, 99.0), (30, 102.0), (30, 105.0), (30, 108.0), (30, 111.0), (30, 114.0), (30, 117.0), (30, 120.0), (30, 123.0), (30, 126.0), (30, 129.0), (30, 132.0), (30, 135.0), (30, 138.0), (30, 141.0), (30, 144.0), (30, 147.0), (30, 150.0), (30, 153.0), (30, 156.0), (30, 159.0), (30, 162.0), (30, 165.0), (30, 168.0), (30, 171.0), (30, 174.0), (30, 177.0), (30, 180.0), (30, 183.0), (30, 186.0), (30, 189.0), (30, 192.0), (30, 195.0), (32, 30.0), (32, 33.0), (32, 36.0), (32, 39.0), (32, 42.0), (32, 45.0), (32, 48.0), (32, 51.0), (32, 54.0), (32, 57.0), (32, 60.0), (32, 63.0), (32, 66.0), (32, 69.0), (32, 72.0), (32, 75.0), (32, 78.0), (32, 81.0), (32, 84.0), (32, 87.0), (32, 90.0), (32, 93.0), (32, 96.0), (32, 99.0), (32, 102.0), (32, 105.0), (32, 108.0), (32, 111.0), (32, 114.0), (32, 117.0), (32, 120.0), (32, 123.0), (32, 126.0), (32, 129.0), (32, 132.0), (32, 135.0), (32, 138.0), (32, 141.0), (32, 144.0), (32, 147.0), (32, 150.0), (32, 153.0), (32, 156.0), (32, 159.0), (32, 162.0), (32, 165.0), (32, 168.0), (32, 171.0), (32, 174.0), (32, 177.0), (32, 180.0), (32, 183.0), (32, 186.0), (32, 189.0), (32, 192.0), (32, 195.0), (32, 198.0), (32, 201.0), (32, 204.0), (32, 207.0)]
trainingExamples = [50, 500, 1000, 2500]
spatialRes = [0.1, 0.25, 0.5, 1]
taxon = "Picea"


catName = "Basic"
cell = 0
for comp in configs:
        for t in trainingExamples:
            for s in spatialRes:
                cell += 1
                for i in range(n):
                    core = comp[0]
                    g = comp[1]
                    expName =  "Experiement: ", cell, "(", catName, "). Running", core, " cores with ",g, "GB memory. Taxon is ", taxon, " training on: ",t, " examples at SR: ", s, " replicate #",i
                    print expName
                    data = (cell, i, core, g, taxon, t, s, catName)
                    sql = "INSERT INTO Experiments VALUES(DEFAULT, -1, %s, %s, %s, %s, %s, %s, %s, NULL,%s, 'NOT STARTED', DEFAULT, DEFAULT, DEFAULT);"
                    cursor.execute(sql, data)
##Super
superConfs = [(16, 60), (32, 120), (32, 208)]
catName = "Super"
for conf in superConfs:
    for t in trainingExamples:
        for s in spatialRes:
            cell += 1
            for i in range(n):
                g = conf[1]
                core = conf[0]
                expName = 'NULL'#"Experiement: ", cell, "(", catName, "). Running", core, " cores with ",g, "GB memory. Taxon is ", taxon, " training on: ",t, " examples at SR: ", s, " replicate #",i
                print cell
                data = (cell, i, core, g, taxon, t, s, expName, catName)
                sql = "INSERT INTO Experiments VALUES(DEFAULT, -1, %s, %s, %s, %s, %s, %s, %s, %s, %s, 'NOT STARTED', DEFAULT, DEFAULT, DEFAULT);"
                cursor.execute(sql, data)

## N sensitivity
catName = "nSensitivity"
trainingExamples = [100, 200, 300,400, 500, 600, 700,800, 900, 1000, 2000, 3000,
                    4000, 5000, 6000, 7000, 8000, 9000, 10000, 15000, 20000, 25000, 30000]
core = 4
g = 16
s = 0.25
for t in trainingExamples:
    cell += 1
    for i in range(n):
        expName = 'NULL'#"Experiement: ", cell, "(", catName, "). Running", core, " cores with ",g, "GB memory. Taxon is ", taxon, " training on: ",t, " examples at SR: ", s, " replicate #",i
        data = (cell, i, core, g, taxon, t, s, expName, catName)
        sql = "INSERT INTO Experiments VALUES(DEFAULT, -1, %s, %s, %s, %s, %s, %s, %s, %s, %s, 'NOT STARTED',DEFAULT, DEFAULT, DEFAULT);"
        cursor.execute(sql, data)

## sSensitivity
catName = "sSensitivity"
t = 1000
core = 4
g = 16
spatialRes = [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 2.5, 5]
for s in spatialRes:
    cell += 1
    for i in range(n):
        expName = 'NULL'#"Experiement: ", cell, "(", catName, "). Running", core, " cores with ",g, "GB memory. Taxon is ", taxon, " training on: ",t, " examples at SR: ", s, " replicate #",i
        print cell
        data = (cell, i, core, g, taxon, t, s, expName, catName)
        sql = "INSERT INTO Experiments VALUES(DEFAULT, -1, %s, %s, %s, %s, %s, %s, %s, %s, %s, 'NOT STARTED', DEFAULT, DEFAULT, DEFAULT);"
        cursor.execute(sql, data)

## tSensitivity
catName = "tSensitivity"
taxa = ['Betula', "Picea", "Tsuga", "Quercus"]
t = 1000
s = 0.5
confs = [(1, 3.75), (2, 7.5), (4, 15), (8, 30), (16, 60), (32, 120)]
for c in confs:
    for taxon in taxa:
        cell += 1
        for i in range(n):
            core = c[0]
            g = c[1]
            expName = 'NULL' #"Experiement: ", cell, "(", catName, "). Running", core, " cores with ",g, "GB memory. Taxon is ", taxon, " training on: ",t, " examples at SR: ", s, " replicate #",i
            print cell
            data = (cell, i, core, g, taxon, t, s, expName, catName)
            sql = "INSERT INTO Experiments VALUES(DEFAULT, -1, %s, %s, %s, %s, %s, %s, %s, %s, %s, 'NOT STARTED', DEFAULT, DEFAULT, DEFAULT);"
            cursor.execute(sql, data)

cnx.commit()
